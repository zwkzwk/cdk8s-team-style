

## 基础环境

- **注意：polardb 的连接，不管是内网服务器、外网服务器，都必须加入到白名单才可以访问**
- 单表五千多万数据，4C16G-2节点集群下，offset 到两千万的时候速度也很快，首次十几秒，后续走缓存之后几秒。offset 百万级别以及越小查询越快，一般只要几毫秒到几秒。
- 并行查询特性：<https://help.aliyun.com/document_detail/128615.html>

```
并行度参数从低到高，逐渐增加，建议不要超过CPU核数的四分之一 。集群的CPU内核数大于等于8才支持开启并行查询，小规格的集群不建议开启该参数。例如，刚开始使用并行查询时，设置max_parallel_degree参数为2，试运行一天后，如果CPU压力不大，可以往上增加；如果CPU压力较大，停止增加。
max_parallel_degree参数为0时，表示关闭并行查询；max_parallel_degree参数为1时，表示开启并行查询，且并行度为1。
```

- 开启连接池：<https://help.aliyun.com/document_detail/162823.html>

```
会话级连接池适用于PHP短连接场景。
PHP短连接优化用于减少短连接业务频繁建立新连接导致MySQL负载高。

事务级连接池
事务级连接池适用于总连接数比较多的场景，例如连接数上万的情况。
事务级连接池主要用于减少业务的连接数，以及减少短连接场景下频繁新建连接带来的负载。
```
